<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NettyHost - –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</title>
    <link rel="stylesheet" href="dashboard.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="dashboard-container">
        <nav class="sidebar">
            <div class="logo">
                <img src="logo.svg" alt="NettyHost Logo">
            </div>
            <ul class="nav-menu">
                <li class="nav-item active" data-tab="dashboard">
                    <a href="#dashboard">
                        <span class="icon">üìä</span>
                        <span>–û–±–∑–æ—Ä</span>
                    </a>
                </li>
                <li class="nav-item" data-tab="servers">
                    <a href="#servers">
                        <span class="icon">üñ•Ô∏è</span>
                        <span>–°–µ—Ä–≤–µ—Ä—ã</span>
                    </a>
                </li>
                <li class="nav-item" data-tab="projects">
                    <a href="#projects">
                        <span class="icon">üìÅ</span>
                        <span>–ü—Ä–æ–µ–∫—Ç—ã</span>
                    </a>
                </li>
                <li class="nav-item" data-tab="domains">
                    <a href="#domains">
                        <span class="icon">üåê</span>
                        <span>–î–æ–º–µ–Ω—ã</span>
                    </a>
                </li>
                <li class="nav-item" data-tab="databases">
                    <a href="#databases">
                        <span class="icon">üíæ</span>
                        <span>–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</span>
                    </a>
                </li>
                <li class="nav-item" data-tab="messages">
                    <a href="#messages">
                        <span class="icon">üí¨</span>
                        <span>–°–æ–æ–±—â–µ–Ω–∏—è</span>
                    </a>
                </li>
                <li class="nav-item" data-tab="settings">
                    <a href="#settings">
                        <span class="icon">‚öôÔ∏è</span>
                        <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                    </a>
                </li>
            </ul>
            <div class="sidebar-footer">
                <a href="#" id="logout-btn" class="logout-btn">
                    <span class="icon">üö™</span>
                    <span>–í—ã–π—Ç–∏</span>
                </a>
            </div>
        </nav>

        <main class="content">
            <header class="top-bar">
                <div class="page-title">
                    <h1>–û–±–∑–æ—Ä</h1>
                </div>
                <div class="user-profile">
                    <div class="user-info">
                        <span id="username" class="username">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                    </div>
                    <div class="avatar">
                        <img src="https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y" alt="Avatar">
                    </div>
                </div>
            </header>

            <div class="dashboard-content">
                <div class="tab-content active" id="dashboard-tab">
                    <div class="welcome-banner">
                        <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ NettyHost!</h2>
                        <p>–≠—Ç–æ –≤–∞—à –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç, –≥–¥–µ –≤—ã –º–æ–∂–µ—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–µ—Ä–≤–µ—Ä–∞–º–∏, –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏.</p>
                    </div>
                </div>
                
                <!-- –°–µ—Ä–≤–µ—Ä—ã -->
                <div class="tab-content" id="servers-tab">
                    <h2>–í–∞—à–∏ —Å–µ—Ä–≤–µ—Ä—ã</h2>
                    
                    <div id="vds-server-list" class="server-list">
                        <!-- –°–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω —á–µ—Ä–µ–∑ JavaScript -->
                        <p id="no-servers-message">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤. –ó–∞–∫–∞–∂–∏—Ç–µ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É.</p>
                    </div>
                    
                    <div class="vds-plans">
                        <h3>–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–ª–∞–Ω—ã VDS</h3>
                        <div class="plan-cards">
                            <div class="plan-card">
                                <div class="plan-header">
                                    <h4>Free Trial VDS</h4>
                                    <div class="plan-price">0 ‚ÇΩ/–æ–¥–∏–Ω –¥–µ–Ω—å</div>
                                </div>
                                <div class="plan-features">
                                    <ul>
                                        <li>2 CPU</li>
                                        <li>2 GB RAM</li>
                                        <li>3 GB SSD</li>
                                        <li>100 GB –¢—Ä–∞—Ñ–∏–∫</li>
                                        <li>–ë–µ–∑ –≥–∞—Ä–∞–Ω—Ç–∏–∏ SLA</li>
                                    </ul>
                                </div>
                                <button class="btn-order-vds" data-plan="free">–ü–æ–ª—É—á–∏—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ</button>
                            </div>
                            
                            <div class="plan-card premium-card">
                                <div class="popular-badge">–ü–æ–ø—É–ª—è—Ä–Ω—ã–π</div>
                                <div class="plan-header">
                                    <h4>Premium VDS</h4>
                                    <div class="plan-price">449 ‚ÇΩ/–º–µ—Å</div>
                                </div>
                                <div class="plan-features">
                                    <ul>
                                        <li>8 CPU</li>
                                        <li>32 GB RAM</li>
                                        <li>80 GB SSD</li>
                                        <li>1 TB –¢—Ä–∞—Ñ–∏–∫</li>
                                        <li>99.9% SLA</li>
                                        <li>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</li>
                                    </ul>
                                </div>
                                <button class="btn-order-vds" data-plan="premium">–ó–∞–∫–∞–∑–∞—Ç—å</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –ü—Ä–æ–µ–∫—Ç—ã -->
                <div class="tab-content" id="projects-tab">
                    <h2>–í–∞—à–∏ –ø—Ä–æ–µ–∫—Ç—ã</h2>
                    <p>–ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤–∞—à–∏ –ø—Ä–æ–µ–∫—Ç—ã.</p>
                </div>
                
                <!-- –î–æ–º–µ–Ω—ã -->
                <div class="tab-content" id="domains-tab">
                    <h2>–î–æ–º–µ–Ω—ã</h2>
                    <p>–ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤–∞—à–∏ –¥–æ–º–µ–Ω—ã.</p>
                </div>
                
                <!-- –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö -->
                <div class="tab-content" id="databases-tab">
                    <h2>–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</h2>
                    <p>–ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤–∞—à–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.</p>
                </div>
                
                <!-- –°–æ–æ–±—â–µ–Ω–∏—è -->
                <div class="tab-content" id="messages-tab">
                    <h2>–°–æ–æ–±—â–µ–Ω–∏—è</h2>
                    <p>–£ –≤–∞—Å –Ω–µ—Ç –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.</p>
                </div>
                
                <!-- –û–ø–ª–∞—Ç–∞ -->
                <div class="tab-content" id="billing-tab">
                    <h2>–û–ø–ª–∞—Ç–∞</h2>
                    <div class="billing-container">
                        <div class="balance-card">
                            <h3>–¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å</h3>
                            <div class="balance-amount">0 ‚ÇΩ</div>
                            <p class="balance-info">–ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å –¥–ª—è –æ–ø–ª–∞—Ç—ã —É—Å–ª—É–≥</p>
                        </div>
                        
                        <div class="payment-card">
                            <h3>–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞</h3>
                            <form id="payment-form" class="payment-form">
                                <div class="form-group">
                                    <label for="amount">–°—É–º–º–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è (‚ÇΩ)</label>
                                    <input type="number" id="amount" name="amount" min="100" value="500" required>
                                </div>
                                
                                <div class="payment-methods">
                                    <div class="payment-method active">
                                        <img src="https://yoomoney.ru/i/html-letters/header-logo.png" alt="YooMoney" height="30">
                                        <span>–ÆMoney</span>
                                    </div>
                                </div>
                                
                                <button type="submit" class="btn-payment">–ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å</button>
                            </form>
                        </div>
                        
                        <div class="payment-history">
                            <h3>–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</h3>
                            <div class="empty-history">
                                <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
                <div class="tab-content" id="settings-tab">
                    <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è</h2>
                    <p>–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∞—à–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è.</p>
                </div>
            </div>
        </main>
    </div>

    <script>
        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        async function loadUserData() {
            try {
                const response = await fetch('/api/user');
                
                if (response.ok) {
                    const data = await response.json();
                    document.getElementById('username').textContent = data.user.username;
                } else {
                    window.location.href = '/login.html';
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', error);
                window.location.href = '/login.html';
            }
        }

        // –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', loadUserData);
        
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
        document.addEventListener('DOMContentLoaded', function() {
            const navItems = document.querySelectorAll('.nav-item');
            const tabContents = document.querySelectorAll('.tab-content');
            
            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    // –£–¥–∞–ª—è–µ–º active –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
                    navItems.forEach(nav => nav.classList.remove('active'));
                    // –î–æ–±–∞–≤–ª—è–µ–º active –∫–ª–∞—Å—Å –∫ —Ç–µ–∫—É—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
                    this.classList.add('active');
                    
                    // –ü–æ–ª—É—á–∞–µ–º id –≤–∫–ª–∞–¥–∫–∏
                    const tabId = this.getAttribute('data-tab');
                    
                    // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏
                    tabContents.forEach(tab => tab.classList.remove('active'));
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é –≤–∫–ª–∞–¥–∫—É
                    document.getElementById(tabId + '-tab').classList.add('active');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
                    document.querySelector('.page-title h1').textContent = this.querySelector('span:last-child').textContent;
                });
            });
        });
    </script>
    <script src="dashboard.js"></script>
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            loadVDSServers();
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫
            const navItems = document.querySelectorAll('.nav-item');
            const tabContents = document.querySelectorAll('.tab-content');
            
            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
                    navItems.forEach(i => i.classList.remove('active'));
                    tabContents.forEach(t => t.classList.remove('active'));
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –Ω–∞–∂–∞—Ç–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É –∫–æ–Ω—Ç–µ–Ω—Ç—É
                    this.classList.add('active');
                    document.getElementById(`${tabId}-tab`).classList.add('active');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
                    const pageTitle = document.querySelector('.page-title h1');
                    pageTitle.textContent = this.querySelector('span:last-child').textContent;
                });
            });
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫–∏ –∑–∞–∫–∞–∑–∞ VDS
            const orderButtons = document.querySelectorAll('.btn-order-vds');
            orderButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const plan = this.getAttribute('data-plan');
                    showPaymentMethodModal(plan);
                });
            });
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã—Ö–æ–¥–∞ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
            document.getElementById('logout-btn').addEventListener('click', function(e) {
                e.preventDefault();
                logout();
            });
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
            async function logout() {
                try {
                    const response = await fetch('/api/logout', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        }
                    });
                    
                    const data = await response.json();
                    
                    if (data.success) {
                        window.location.href = '/login.html';
                    } else {
                        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ —Å–∏—Å—Ç–µ–º—ã');
                    }
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ:', error);
                    alert('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º');
                }
            }
        });
    </script>
</body>
</html> 